<ion-view class="main-content">
	<ion-header-bar class="bar-balanced">
		<button class="button button-icon ion-navicon" on-tap="toggleLeft()"></button>
		<h1 class="title">Routes I've Joined</h1>
	</ion-header-bar>
	<ion-header-bar class="bar-subheader">
		<label class="item item-input">
			<i class="icon ion-search placeholder-icon"></i>
			<input type="text" placeholder="Search" ng-model="searchStr"/>
		</label>
	</ion-header-bar>
	<ion-content class="has-subheader">
		<div class="card" ng-repeat="ride in joinedRoutes | filter: searchStr">
			<div class="item item-avatar st-card-avatar">
				<img src="/img/icon.png">
				<h2>{{ride.owner.name}}</h2>
				<p>{{ride.route.sharing_options.notes}}</p>
			</div>

			<a class="item item-body item-text-wrap" ng-click="openJoinedMap(ride)">
				From: {{ride.route.directions.getStartAddress()}}<br>
				To: {{ride.route.directions.getEndAddress()}}<br>
				By: {{ride.deadline}}
				<p>
					Sharing: {{ride.sharing}}
				</p>
			</a>

			<button class="button item royal align-right nobackground" on-tap="leaveRoute(ride, index)" >
				Leave Route
			</button>
		</div>
	</ion-content>
</ion-view>
